version: 0.7.0
description: >
  Agent ↔ Workflow ↔ Phase 映射关系
  这是组织知识，记录了"现实中通常由谁负责哪些工作流的哪些阶段"
  
  ⚠️ 注意：这不是执行配置，仅用于文档化组织结构
  v0.7 不强制执行这些映射关系

mappings:
  # ========================================
  # Product Manager - 产品经理
  # ========================================
  - agent_id: product_manager
    workflow_id: problem_discovery
    phases:
      - signal_collection
      - problem_framing
      - success_criteria
    participation_mode: lead
  
  - agent_id: product_manager
    workflow_id: requirements_definition
    phases:
      - scope_definition
      - acceptance_criteria
    participation_mode: lead
  
  - agent_id: product_manager
    workflow_id: release_management
    phases:
      - release_scope
      - change_log
    participation_mode: support
  
  - agent_id: product_manager
    workflow_id: knowledge_consolidation
    phases:
      - signal_extraction
    participation_mode: support

  # ========================================
  # Project Manager - 项目经理
  # ========================================
  - agent_id: project_manager
    workflow_id: implementation_planning
    phases:
      - task_decomposition
      - dependency_ordering
      - risk_identification
    participation_mode: lead
  
  - agent_id: project_manager
    workflow_id: deployment_planning
    phases:
      - rollout_strategy
      - rollback_plan
      - readiness_check
    participation_mode: lead
  
  - agent_id: project_manager
    workflow_id: release_management
    phases:
      - release_scope
      - release_signals
    participation_mode: lead

  # ========================================
  # UI/UX Designer - UI/UX 设计师
  # ========================================
  - agent_id: ui_ux_designer
    workflow_id: system_design
    phases:
      - architecture_options
      - tradeoff_analysis
    participation_mode: support
  
  - agent_id: ui_ux_designer
    workflow_id: detailed_design
    phases:
      - component_breakdown
      - interface_definition
    participation_mode: lead
  
  - agent_id: ui_ux_designer
    workflow_id: knowledge_consolidation
    phases:
      - pattern_identification
      - codification
    participation_mode: support

  # ========================================
  # Frontend Engineer - 前端工程师
  # ========================================
  - agent_id: frontend_engineer
    workflow_id: detailed_design
    phases:
      - component_breakdown
      - interface_definition
    participation_mode: support
  
  - agent_id: frontend_engineer
    workflow_id: feature_implementation
    phases:
      - code_creation
      - local_validation
    participation_mode: lead
  
  - agent_id: frontend_engineer
    workflow_id: refactoring
    phases:
      - refactor_intent
      - refactor_execution
      - regression_check
    participation_mode: lead
  
  - agent_id: frontend_engineer
    workflow_id: test_implementation
    phases:
      - test_creation
      - failure_analysis
    participation_mode: lead
  
  - agent_id: frontend_engineer
    workflow_id: code_review
    phases:
      - diff_analysis
      - risk_assessment
    participation_mode: support

  # ========================================
  # Backend Engineer - 后端工程师
  # ========================================
  - agent_id: backend_engineer
    workflow_id: detailed_design
    phases:
      - component_breakdown
      - interface_definition
      - dependency_mapping
    participation_mode: lead
  
  - agent_id: backend_engineer
    workflow_id: feature_implementation
    phases:
      - code_creation
      - local_validation
    participation_mode: lead
  
  - agent_id: backend_engineer
    workflow_id: refactoring
    phases:
      - refactor_intent
      - refactor_execution
      - regression_check
    participation_mode: lead
  
  - agent_id: backend_engineer
    workflow_id: testing_strategy
    phases:
      - test_scope
      - test_types
      - coverage_expectations
    participation_mode: support
  
  - agent_id: backend_engineer
    workflow_id: code_review
    phases:
      - diff_analysis
      - risk_assessment
      - improvement_suggestions
    participation_mode: support

  # ========================================
  # Database Engineer - 数据库工程师
  # ========================================
  - agent_id: database_engineer
    workflow_id: system_design
    phases:
      - architecture_options
      - tradeoff_analysis
      - decision_record
    participation_mode: lead
  
  - agent_id: database_engineer
    workflow_id: detailed_design
    phases:
      - component_breakdown
      - dependency_mapping
    participation_mode: support
  
  - agent_id: database_engineer
    workflow_id: performance_analysis
    phases:
      - bottleneck_identification
      - optimization_options
      - tradeoff_decision
    participation_mode: lead
  
  - agent_id: database_engineer
    workflow_id: maintenance_planning
    phases:
      - debt_identification
      - prioritization
      - maintenance_schedule
    participation_mode: support

  # ========================================
  # System Architect - 系统架构师
  # ========================================
  - agent_id: system_architect
    workflow_id: system_design
    phases:
      - architecture_options
      - tradeoff_analysis
      - decision_record
    participation_mode: lead
  
  - agent_id: system_architect
    workflow_id: architectural_evolution
    phases:
      - evolution_drivers
      - target_state
      - migration_strategy
    participation_mode: lead
  
  - agent_id: system_architect
    workflow_id: performance_analysis
    phases:
      - bottleneck_identification
      - optimization_options
      - tradeoff_decision
    participation_mode: support
  
  - agent_id: system_architect
    workflow_id: security_review
    phases:
      - threat_modeling
      - vulnerability_analysis
      - mitigation_plan
    participation_mode: support

  # ========================================
  # QA Engineer - 测试工程师
  # ========================================
  - agent_id: qa_engineer
    workflow_id: testing_strategy
    phases:
      - test_scope
      - test_types
      - coverage_expectations
    participation_mode: lead
  
  - agent_id: qa_engineer
    workflow_id: test_implementation
    phases:
      - test_creation
      - failure_analysis
    participation_mode: lead
  
  - agent_id: qa_engineer
    workflow_id: incident_response
    phases:
      - incident_triage
      - containment_strategy
    participation_mode: support
  
  - agent_id: qa_engineer
    workflow_id: code_review
    phases:
      - risk_assessment
      - improvement_suggestions
    participation_mode: support

  # ========================================
  # Security Engineer - 安全工程师
  # ========================================
  - agent_id: security_engineer
    workflow_id: security_review
    phases:
      - threat_modeling
      - vulnerability_analysis
      - mitigation_plan
    participation_mode: lead
  
  - agent_id: security_engineer
    workflow_id: system_design
    phases:
      - architecture_options
      - tradeoff_analysis
    participation_mode: support
  
  - agent_id: security_engineer
    workflow_id: incident_response
    phases:
      - incident_triage
      - containment_strategy
      - postmortem_outline
    participation_mode: support

  # ========================================
  # DevOps Engineer - DevOps 工程师
  # ========================================
  - agent_id: devops_engineer
    workflow_id: deployment_planning
    phases:
      - rollout_strategy
      - rollback_plan
      - readiness_check
    participation_mode: lead
  
  - agent_id: devops_engineer
    workflow_id: release_management
    phases:
      - release_scope
      - release_signals
    participation_mode: support
  
  - agent_id: devops_engineer
    workflow_id: maintenance_planning
    phases:
      - debt_identification
      - maintenance_schedule
    participation_mode: support
  
  - agent_id: devops_engineer
    workflow_id: incident_response
    phases:
      - incident_triage
      - containment_strategy
    participation_mode: support

  # ========================================
  # SRE Engineer - SRE 工程师
  # ========================================
  - agent_id: sre_engineer
    workflow_id: incident_response
    phases:
      - incident_triage
      - containment_strategy
      - postmortem_outline
    participation_mode: lead
  
  - agent_id: sre_engineer
    workflow_id: performance_analysis
    phases:
      - bottleneck_identification
      - optimization_options
      - tradeoff_decision
    participation_mode: support
  
  - agent_id: sre_engineer
    workflow_id: maintenance_planning
    phases:
      - debt_identification
      - prioritization
      - maintenance_schedule
    participation_mode: lead

  # ========================================
  # Technical Writer - 技术文档
  # ========================================
  - agent_id: technical_writer
    workflow_id: knowledge_consolidation
    phases:
      - signal_extraction
      - pattern_identification
      - codification
    participation_mode: lead
  
  - agent_id: technical_writer
    workflow_id: release_management
    phases:
      - change_log
    participation_mode: lead

  # ========================================
  # Engineering Manager - 工程经理
  # ========================================
  - agent_id: engineering_manager
    workflow_id: architectural_evolution
    phases:
      - evolution_drivers
      - target_state
    participation_mode: support
  
  - agent_id: engineering_manager
    workflow_id: maintenance_planning
    phases:
      - debt_identification
      - prioritization
    participation_mode: lead
  
  - agent_id: engineering_manager
    workflow_id: knowledge_consolidation
    phases:
      - signal_extraction
      - pattern_identification
    participation_mode: support

# ========================================
# 参与模式说明
# ========================================
# lead: 主导该阶段，负责主要决策
# support: 提供支持和建议
# review: 仅审查和批准
