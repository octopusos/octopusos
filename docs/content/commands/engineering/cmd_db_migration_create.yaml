id: cmd_db_migration_create
type: command
version: 0.8.0
category: data
title: "Create Database Migration"
description: "Create a database migration plan/artifact with forward and rollback steps."

recommended_roles:
  - database_engineer
  - backend_engineer

workflow_links:
  - workflow: detailed_design
    phases: [data_changes]
  - workflow: deployment_planning
    phases: [preparation]

inputs:
  - name: change_summary
    type: string
    required: true
  - name: rollback_plan
    type: string
    required: true

outputs:
  - name: migration_artifact_ref
    type: string

preconditions:
  - "data_model_change_approved"

effects:
  - scope: docs
    kind: write
    description: "Creates migration artifact (not executed)."

risk_level: high
evidence_required: true

constraints:
  executable_payload: forbidden
  agent_binding: forbidden

lineage:
  introduced_in: v0.8
  derived_from: null
  supersedes: []
