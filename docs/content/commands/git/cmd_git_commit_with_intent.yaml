id: cmd_git_commit_with_intent
type: command
version: 0.8.0
category: git
title: "Commit Changes With Intent"
description: "Create a commit with a clear intent statement and scoped change summary."

recommended_roles:
  - frontend_engineer
  - backend_engineer
  - devops_engineer

workflow_links:
  - workflow: feature_implementation
    phases: [commit]
  - workflow: refactoring
    phases: [commit]

inputs:
  - name: intent
    type: string
    required: true
    description: "Human-readable purpose of this change."
  - name: scope
    type: string
    required: false
    description: "Optional scope, e.g. 'ui', 'api', 'infra'."

outputs:
  - name: commit_hash
    type: string
    description: "Created commit hash."

preconditions:
  - "repository_accessible"
  - "changes_staged"

effects:
  - scope: repo
    kind: write
    description: "Creates a commit object and updates branch head."

risk_level: low
evidence_required: false

constraints:
  executable_payload: forbidden
  agent_binding: forbidden

lineage:
  introduced_in: v0.8
  derived_from: null
  supersedes: []
