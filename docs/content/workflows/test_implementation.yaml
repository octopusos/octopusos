id: test_implementation
version: 0.6.0
category: testing
description: >
  Implement tests according to strategy.
  
  This workflow guides the creation of actual test code based on a defined
  testing strategy, including failure analysis and iteration.

phases:
  - id: test_creation
    description: Write test code according to strategy
    requires: [test_strategy, implementation]
    produces: [test_code]
    allows_questions: false
    risk_level: medium

  - id: failure_analysis
    description: Analyze and address test failures
    requires: [test_code, test_results]
    produces: [failure_analysis, fixes]
    allows_questions: true
    risk_level: high

interaction:
  default_mode: question_only
  question_policy:
    trigger_when:
      - unexpected_failure
      - blocker_detected
      - test_strategy_inadequate
  allowed_phases: [failure_analysis]

constraints:
  execution: forbidden
  side_effects: forbidden
  requires_approval: false

lineage:
  introduced_in: v0.6
  derived_from: null
  change_reason: null

metadata:
  tags: [testing, quality-assurance, implementation]
  related_workflows: [testing_strategy, feature_implementation]
  use_cases:
    - Test strategy is defined and needs implementation
    - Test failures need analysis
    - Test coverage needs to be achieved
  anti_use_cases:
    - No test strategy exists (use testing_strategy first)
    - Exploratory testing without plan
    - Production incident debugging
