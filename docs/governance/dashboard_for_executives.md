# Governance Dashboard 使用指南 (高管版)

## 快速开始

这个 Dashboard 专为非技术管理层设计,让您能够在 30 秒内了解系统治理状态,无需深入技术细节。

### 访问 Dashboard

1. 打开 AgentOS WebUI: `http://localhost:5000`
2. 点击左侧导航栏 "Governance" → "Dashboard"
3. 选择时间范围: 7 天 / 30 天 / 90 天

## 如何阅读这个 Dashboard

### 第一眼看什么: Risk Level (风险等级)

Dashboard 顶部最显眼的徽章显示系统当前风险等级:

- 🟢 **LOW**: 系统健康,无重大风险
  - **含义**: 系统运行良好,治理检查未发现严重问题
  - **行动**: 无需特别关注,继续保持现状

- 🟡 **MEDIUM**: 存在中等风险,需要关注
  - **含义**: 发现 1-5 个高风险问题,或少量中等风险问题
  - **行动**: 关注 Top Risks 列表,确认有人在处理

- 🟠 **HIGH**: 存在高风险,需要采取行动
  - **含义**: 发现 >5 个高风险问题,可能影响系统稳定性
  - **行动**: 立即与技术团队沟通,确认解决方案和时间表

- 🔴 **CRITICAL**: 存在严重风险,需要立即处理
  - **含义**: 发现严重安全漏洞或合规违规
  - **行动**: 立即召集紧急会议,评估影响范围,制定应对计划

### 核心指标解读

#### Open Findings (未解决的发现)

**这是什么?**
- 系统检测到但尚未处理的潜在问题数量
- 包括安全风险、合规违规、配置错误等

**如何解读?**
- **趋势向下 ↓**: 好事,团队正在积极解决问题
- **趋势向上 ↑**: 需要关注,问题可能在积累
- **趋势稳定 →**: 问题发现速度和解决速度持平

**参考值:**
- < 10: 健康状态
- 10-30: 需要关注
- \> 30: 需要增加资源处理

#### Blocked Rate (阻止率)

**这是什么?**
- 被治理系统阻止的操作比例
- 例如:100 个操作中,有 8 个被阻止,阻止率就是 8%

**如何解读?**
- **正常值 (5-10%)**: 说明治理系统在工作,但不过严
- **过高 (>20%)**: 可能规则过严,影响开发效率,或系统故障
- **过低 (<2%)**: 可能规则过松,或治理系统未充分启用

**典型场景:**
- 阻止率突然升高 → 可能新规则上线或代码质量下降
- 阻止率持续低位 → 检查治理系统是否正常工作

**行动建议:**
- 过高: 与团队讨论规则是否需要调整
- 过低: 确认治理系统配置是否正确

#### Guardian Coverage (验收覆盖率)

**这是什么?**
- 有 Guardian (人工或自动验收) 审查的任务比例
- Guardian 是系统的"质量关卡",确保关键操作经过审批

**如何解读?**
- **目标值**: > 80%
- **警告值**: < 50%

**覆盖率低的影响:**
- 合规风险:大量操作未经审批就执行
- 安全风险:可能漏掉高风险操作
- 审计问题:外部审计时无法提供完整轨迹

**行动建议:**
- 低于 50%: 立即与团队讨论,是否需要增加 Guardian 或调整策略
- 80-95%: 健康状态
- > 95%: 优秀

### 趋势分析: 问题在变好还是变坏?

Dashboard 中部的趋势图显示过去 7/30/90 天的变化:

#### Findings Trend (发现趋势)

- **向下 ↓**: 问题在减少 (好)
- **向上 ↑**: 问题在增加 (需关注)
- **稳定 →**: 问题数量稳定

**Sparkline 迷你图:**
- 小型折线图,显示每天的发现数量
- 快速识别异常峰值或趋势转折点

#### Blocked Decisions Trend (阻止率趋势)

- **向下 ↓**: 代码质量在提升,或规则在优化 (好)
- **向上 ↑**: 代码质量在下降,或新规则上线 (需关注)

**典型模式:**
- 阶跃式上升 → 通常是新规则上线,正常现象
- 缓慢上升 → 可能代码质量在下降,需要关注

#### Guardian Coverage Trend (覆盖率趋势)

- **向上 ↑**: Guardian 使用率在提升 (好)
- **向下 ↓**: 覆盖率在降低,需要关注

**理想模式:**
- 稳定在 80-95% 之间

### Top Risks: 最严重的问题

这是系统识别的最严重问题列表,按优先级排序。每个风险包含:

#### 严重程度徽章
- **[CRITICAL]**: 严重风险,可能导致安全事故或合规违规
- **[HIGH]**: 高风险,需要尽快处理
- **[MEDIUM]**: 中等风险,纳入常规处理流程

#### 风险标题
- 简洁描述问题,例如:
  - "Blocked decisions increased 45% in 24h"
  - "High-risk operation allowed without Guardian review"

#### 影响范围
- "12 tasks affected" → 这个风险影响了 12 个任务
- 影响范围越大,优先级越高

#### 发现时间
- "2h ago" → 2 小时前发现
- 最近发现的问题优先级更高

### 行动建议

根据风险严重程度,采取不同行动:

| 严重程度 | 响应时间 | 行动建议 |
|---------|---------|---------|
| **CRITICAL** | 立即 | 召集紧急会议,通知相关团队,制定应对计划 |
| **HIGH** | 24 小时内 | 与技术负责人沟通,确认解决方案和时间表 |
| **MEDIUM** | 1 周内 | 纳入下一个冲刺,正常流程处理 |

### Governance Health: 治理系统本身健康吗?

这是治理系统本身的"体检报告",评估监控系统是否正常工作:

#### Guardian Coverage (验收覆盖率)
- **目标**: > 80%
- **低于 50%**: 说明验收机制未充分使用,存在合规风险

#### Avg Decision Latency (平均决策延迟)
- **目标**: < 2s (2000ms)
- **含义**: 从事件发生到治理系统做出决策的时间
- **过高 (>5s)**: 可能治理系统负载过大,或配置有问题

**颜色编码:**
- 🟢 绿色: < 500ms (优秀)
- 🟡 黄色: 500-1500ms (正常)
- 🔴 红色: > 1500ms (需要优化)

#### Tasks with Audits (有审计记录的任务)
- **目标**: > 95%
- **含义**: 有完整审计轨迹的任务比例
- **低于 95%**: 审计记录不完整,外部审计时可能有问题

#### Active Guardians (活跃的验收者)
- **目标**: 至少 2-3 个
- **含义**: 当前有多少 Guardian 在参与验收
- **为 0**: 说明没有人在做验收,系统可能未正确配置

#### Last Scan (最近扫描时间)
- **目标**: 最近几小时内
- **含义**: Lead Agent (自动风险扫描) 最后运行时间
- **过旧 (>24h)**: 说明自动扫描可能停止工作,需要检查

## 常见问题

### Q1: Risk Level 是 HIGH,我应该做什么?

**A:** 按以下步骤操作:
1. 查看 **Top Risks** 列表,识别最严重的问题
2. 记录前 2-3 个 CRITICAL/HIGH 风险的标题
3. 与技术负责人沟通:
   - 这些风险的具体影响是什么?
   - 谁在负责处理?
   - 预计多久能解决?
4. 安排跟进会议 (24 小时内)

### Q2: Blocked Rate 很高 (20%),是好事还是坏事?

**A:** 通常是**需要关注的信号**。可能原因:

**情况 1: 新规则刚上线**
- 正常现象,观察 1-2 周
- 团队会逐步适应新规则
- 阻止率应该逐渐下降

**情况 2: 代码质量下降**
- 需要关注,可能需要加强培训
- 查看 Trends 确认是否持续上升

**情况 3: 规则过严**
- 需要与团队讨论,调整规则
- 平衡安全性和开发效率

### Q3: Guardian Coverage 很低 (30%),有什么影响?

**A:** 存在以下风险:

**合规风险**
- 大量任务未经验收就执行
- 外部审计时可能被质疑

**安全风险**
- 高风险操作可能漏掉人工审查
- 自动化系统可能漏掉边缘情况

**建议行动:**
1. 与团队确认:是否 Guardian 配置正确?
2. 是否需要增加 Guardian (人或自动)?
3. 是否需要调整哪些任务需要验收?

### Q4: 多久刷新一次数据?

**A:**
- **手动刷新**: 点击 "Refresh" 按钮
- **自动刷新**: 勾选 "Auto Refresh",每 5 分钟自动刷新
- **数据缓存**: 服务端有 5 分钟缓存,数据最多延迟 5 分钟

**建议:**
- 日常监控: 使用自动刷新
- 紧急情况: 手动刷新获取最新数据

### Q5: 如何导出报告给审计?

**A:** 当前方案 (v1.0):
- **截图**: 使用浏览器截图功能 (Cmd/Ctrl + Shift + 3)
- **打印**: 点击浏览器打印,保存为 PDF

**未来版本** (计划中):
- PDF 导出按钮
- 邮件摘要功能
- 自定义报告模板

### Q6: 不同时间范围 (7d/30d/90d) 怎么选?

**A:** 根据使用场景选择:

| 时间范围 | 适用场景 | 特点 |
|---------|---------|------|
| **7 天** | 每日站会,日常监控 | 反应快,适合发现最新问题 |
| **30 天** | 每月回顾,趋势分析 | 平滑短期波动,看清趋势 |
| **90 天** | 季度报告,审计准备 | 长期视角,评估系统性改进 |

**建议:**
- 日常监控: 7 天
- 管理层汇报: 30 天
- 外部审计: 90 天

### Q7: Top Risks 列表为空,是什么意思?

**A:** 好消息! 说明:
- 系统未检测到高优先级风险
- 治理系统运行正常
- 代码质量良好

**但也要注意:**
- 确认 **Last Scan** 时间不是太久之前
- 确认 **Guardian Coverage** 不是 0% (说明系统在工作)
- 定期查看,持续为空才是真正的好现象

### Q8: 我看到一个 CRITICAL 风险,但团队说不重要,怎么办?

**A:** 可能的情况:

**情况 1: 误报 (False Positive)**
- 治理系统误判,需要调整规则
- 与团队确认,更新规则避免下次误报

**情况 2: 风险已修复但未标记**
- 风险已解决,但系统未更新状态
- 提醒团队在系统中标记为已解决

**情况 3: 风险认知差异**
- 技术团队认为风险可接受,管理层认为不可接受
- 需要对齐风险标准和优先级

**建议行动:**
- 记录这种情况的频率
- 如果经常发生,需要校准治理规则

## 典型使用流程

### 每日健康检查 (30 秒)

```
1. 打开 Dashboard (默认 7d 视图)
2. 快速扫描 4 个指标:
   - Risk Level: GREEN ✓
   - Open Findings: 5 (正常)
   - Blocked Rate: 7.2% (正常)
   - Guardian Coverage: 88% (健康)
3. 看一眼 Top Risks: 1 个 MEDIUM (可接受)
4. 结论: 系统健康,无需行动
```

### 每周管理层汇报 (5 分钟)

```
1. 切换到 30d 视图
2. 准备 3 个关键数据:
   - Risk Level: MEDIUM
   - Findings Trend: ↓ 20% (改善中)
   - Guardian Coverage: 85% (健康)
3. 识别 Top 3 Risks 给团队
4. 检查 Health Metrics 确认系统正常
5. 截图 Dashboard 放入周报
```

### 季度审计准备 (30 分钟)

```
1. 切换到 90d 视图
2. 导出/截图完整 Dashboard
3. 记录关键指标变化:
   - Q1 vs Q2 Findings: ↓ 35% (改善)
   - 平均 Blocked Rate: 8.5% (健康)
   - Guardian Coverage: 82% → 90% (提升)
4. 整理 Top Risks 历史记录
5. 准备解释说明文档
6. 与审计师对接
```

## 最佳实践

### 对于 CTO/VP Engineering

1. **每日晨会前查看** (1 分钟)
   - 快速扫描 Risk Level 和 Top Risks
   - 如有 CRITICAL,在晨会提出

2. **每周深入分析** (10 分钟)
   - 切换到 30d 视图
   - 分析趋势,确认问题在改善
   - 与团队对齐优先级

3. **每月向 CEO 汇报** (5 分钟准备)
   - 准备 3 个关键指标
   - 强调改进趋势
   - 如有问题,说明应对计划

### 对于 CFO/合规官

1. **关注合规指标**
   - Guardian Coverage > 80%
   - Tasks with Audits > 95%
   - Active Guardians >= 2

2. **季度审计准备**
   - 90d 视图完整截图
   - 记录所有 CRITICAL risks 及处理过程
   - 准备 Top Risks 解释文档

3. **风险委员会报告**
   - 使用 Dashboard 作为可视化工具
   - 强调趋势而非单一数值
   - 展示改进措施效果

### 对于 CEO

1. **季度高层视图** (3 分钟)
   - 90d Risk Level 趋势
   - Guardian Coverage 是否健康
   - 是否有持续未解决的 CRITICAL risks

2. **董事会报告**
   - Dashboard 截图展示治理成熟度
   - 强调数据驱动的治理方法
   - 展示投资效果 (趋势改善)

## 告警阈值参考

如果以下指标超出范围,建议立即关注:

| 指标 | 黄色警告 | 红色告警 | 行动建议 |
|------|---------|---------|---------|
| Risk Level | MEDIUM | HIGH/CRITICAL | 立即与团队沟通 |
| Open Findings | 30-50 | > 50 | 增加资源处理 |
| Blocked Rate | 15-20% | > 20% | 检查规则或代码质量 |
| Guardian Coverage | 50-70% | < 50% | 审查配置和流程 |
| Avg Decision Latency | 2-5s | > 5s | 优化系统性能 |
| Tasks with Audits | 90-95% | < 90% | 检查审计配置 |
| Active Guardians | 1 | 0 | 立即配置 Guardian |
| Last Scan | 24-48h | > 48h | 检查扫描服务 |

## 总结

Governance Dashboard 让管理层能够:

1. ✅ **快速评估** - 30 秒了解系统状态
2. ✅ **数据驱动** - 基于实时数据而非主观感觉
3. ✅ **趋势导向** - 关注改进方向而非单一数值
4. ✅ **风险聚焦** - 自动识别最重要的问题
5. ✅ **合规友好** - 为审计提供清晰证据

**记住**: Dashboard 是工具,不是目的。关键是基于数据采取行动,持续改进系统治理水平。

## 相关资源

- [技术文档 (工程师版)](./dashboard_overview.md) - 技术实现细节
- [API 文档](./dashboard_api.md) - API 端点规范
- [Lead Agent 文档](./lead_agent.md) - 风险扫描机制
- [Guardian 验收文档](./guardian_workflow.md) - 验收流程说明
