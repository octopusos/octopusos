# P2: 子图可视化 - 演示指南

**Version**: 1.0.0
**Date**: 2026-01-30
**Audience**: Product Demo, Stakeholder Presentation
**Duration**: 15 分钟

---

## 演示目标

向非技术人员展示 P2 子图可视化的核心价值：

> "不是画一个漂亮的知识图谱，而是让你一眼看出**哪里懂、哪里不懂、哪里缺失**"

---

## 演示前准备

### 环境准备（5 分钟）

1. **启动 WebUI**
   ```bash
   python -m agentos.cli.webui
   ```

2. **确认 BrainOS 索引已构建**
   - 访问 `http://localhost:5000`
   - 如果未构建，运行 `/brain build`（需要 1-2 分钟）

3. **准备演示数据**
   - 种子实体: `file:agentos/core/task/manager.py`
   - 确认该实体有盲区节点（用于演示 Red Line 2）

4. **打开演示界面**
   - 访问 `http://localhost:5000/#/subgraph`
   - 确认界面正常加载

---

## 演示脚本

### 场景 1: 传统知识图谱的问题（3 分钟）

**目标**: 建立问题意识

**演讲词**:
> "我们先看看传统的知识图谱长什么样。"

**操作**: 打开一个典型的知识图谱工具（如 Neo4j Browser）

**解说**:
> "你看，这个图谱很漂亮，节点很多，边很密集。但是..."
>
> **问题 1**: "你能告诉我，这里面哪些关系是可靠的，哪些是不可靠的吗？"
> - **观众反应**: 摇头，看不出来
>
> **问题 2**: "你能告诉我，这个节点为什么没有文档，是盲区吗？"
> - **观众反应**: 不知道
>
> **问题 3**: "你能告诉我，这个图谱是完整的吗？还是有缺失？"
> - **观众反应**: 不清楚
>
> "这就是传统知识图谱的**三大问题**：
> 1. **看不出证据强弱**
> 2. **看不出盲区**
> 3. **看不出是否完整**"

---

### 场景 2: P2 的解决方案（8 分钟）

**目标**: 展示 P2 如何解决这三大问题

#### Step 1: 查询子图（1 分钟）

**操作**:
1. 在输入框输入: `file:agentos/core/task/manager.py`
2. 点击"Query"按钮
3. 等待图谱加载（约 1 秒）

**解说**:
> "这就是 P2 子图可视化。我们查询了 `manager.py` 这个文件的 2-hop 邻域。"
>
> "你会发现，这个图谱和传统的**很不一样**。"

---

#### Step 2: 证据强弱可视化（2 分钟）

**目标**: 解决问题 1

**操作**:
1. 指向一条**粗边**（如 manager.py → models.py）
2. 指向一条**细边**（如某个依赖边）

**解说**:
> "首先，我们来看**边的粗细**。"
>
> *（指向粗边）*
> "这条边很粗，说明有**很多证据**支撑。"
>
> *（悬停显示工具提示）*
> "你看，这里显示：**12 条证据，包含 Git、Doc、Code 三种类型**。"
>
> *（指向细边）*
> "这条边很细，说明只有**1 条证据**。"
>
> *（悬停显示工具提示）*
> "你看，这里显示：**1 条证据，只有 Git**。"
>
> "所以，你**一眼就能看出哪些关系可靠，哪些关系薄弱**。"

**观众反应**: 点头，理解

**进一步解说（节点颜色）**:
> "再看节点的**颜色**。"
>
> *（指向绿色节点）*
> "绿色节点表示有**3 种证据来源**（Git + Doc + Code），非常可靠。"
>
> *（指向蓝色节点）*
> "蓝色节点表示有**2 种证据来源**。"
>
> *（指向橙色节点）*
> "橙色节点表示只有**1 种证据来源**，比较薄弱。"
>
> "所以，你**一眼就能看出哪些节点理解得好，哪些理解得不好**。"

---

#### Step 3: 盲区标注（2 分钟）

**目标**: 解决问题 2

**操作**:
1. 找到一个**盲区节点**（红色虚线边框）
2. 指向该节点

**解说**:
> "现在我们来看**盲区**。"
>
> *（指向盲区节点）*
> "你看这个节点，它有**红色虚线边框**。"
>
> "这表示它是一个**认知盲区**：
> - 有很多其他文件依赖它（入度很高）
> - 但是它**没有文档**
> - 这是一个风险点"
>
> *（悬停显示工具提示）*
> "你看，这里显示：
> - **Blind Spot: High Fan-In Undocumented**
> - **Severity: 0.85（高风险）**
> - **Reason: 15 files depend on this, but no documentation exists**
> - **Suggested Action: Add ADR explaining this file's architecture**"
>
> "所以，你**一眼就能看出哪里是盲区，需要补充文档**。"

**观众反应**: 印象深刻

---

#### Step 4: 完整性透明（2 分钟）

**目标**: 解决问题 3

**操作**:
1. 指向右下角的**元数据面板**
2. 展开面板

**解说**:
> "最后，我们来看**完整性**。"
>
> *（指向元数据面板）*
> "这里显示了子图的统计信息：
> - **Coverage: 85%** → 只有 85% 的节点有证据，还有 15% 缺失
> - **Evidence Density: 5.2** → 平均每条边有 5.2 条证据
> - **Blind Spot Count: 2** → 有 2 个盲区节点
> - **Missing Connections: 0** → 没有检测到缺失的连接"
>
> "所以，你**不会误以为理解是完整的**。"
>
> "系统会**诚实地告诉你**：
> - 哪些地方理解得好（85%）
> - 哪些地方有盲区（2 个）
> - 哪些地方有缺失（0 个）"

**观众反应**: 理解了透明度的价值

---

#### Step 5: 交互功能（1 分钟）

**目标**: 展示交互能力

**操作**:
1. 调整 **K-Hop 滑块**（从 2 改为 1）
2. 点击一个节点（重新查询）

**解说**:
> "这个图谱是**交互式的**。"
>
> *（调整 K-Hop 滑块）*
> "你可以调整查询深度，看看更大或更小的范围。"
>
> *（点击节点）*
> "你可以点击任何节点，以它为中心重新查询。"
>
> "所以，你可以**自由探索知识图谱**，而不是被动地看一张静态图片。"

---

### 场景 3: 对比总结（2 分钟）

**目标**: 强化价值主张

**演讲词**:
> "我们来总结一下。"

**对比表格（投影幻灯片）**:

| 维度 | 传统知识图谱 | P2 子图可视化 | 价值 |
|------|------------|-------------|------|
| **证据强弱** | ❌ 看不出 | ✅ 边粗细 + 颜色 | 一眼看出哪里可靠 |
| **盲区标注** | ❌ 不显示 | ✅ 红色虚线边框 | 一眼看出哪里有风险 |
| **完整性** | ❌ 隐藏 | ✅ 覆盖度透明 | 不会误以为是完整的 |
| **交互性** | ❌ 静态 | ✅ 动态查询 | 自由探索 |

**演讲词**:
> "P2 不是**画一个漂亮的图谱**，而是**可视化认知边界**。"
>
> "它让你**一眼看出**：
> - 哪里懂（绿色节点 + 粗边）
> - 哪里不懂（橙色节点 + 细边）
> - 哪里缺失（盲区 + 覆盖度）"
>
> "这就是 P2 的核心价值：**诚实认知**。"

---

### 场景 4: Q&A（2 分钟）

**常见问题和回答**:

**Q1: 这个和 Neo4j 有什么区别？**
> "Neo4j 是一个**数据库**，它存储和查询关系数据。"
> "P2 是一个**认知工具**，它可视化证据强弱和认知边界。"
> "就像地图和地形图的区别：Neo4j 是地图（标注城市和道路），P2 是地形图（标注海拔和山谷）。"

**Q2: 证据从哪里来？**
> "证据来自三个来源：
> - **Git**: 代码提交历史
> - **Doc**: 文档引用（ADR、README、注释）
> - **Code**: 代码依赖（import、调用）"
>
> "BrainOS 会自动扫描代码库，提取这些证据。"

**Q3: 盲区是怎么检测的？**
> "盲区检测有 3 种场景：
> 1. **高扇入无文档**：很多文件依赖它，但没有文档
> 2. **能力无实现**：声明了能力，但没有代码实现
> 3. **追踪中断**：Git 历史活跃，但没有记录演化"

**Q4: 这个工具的性能如何？**
> "非常快：
> - 2-hop 查询：< 100ms
> - 支持 50+ 并发用户
> - 支持 100k+ 节点的知识图谱"

**Q5: 可以用于其他代码库吗？**
> "是的，BrainOS 支持任何 Git 仓库。"
> "只需要：
> 1. Clone 代码库
> 2. 运行 `/brain build`
> 3. 等待 1-2 分钟"

---

## 演示技巧

### 技巧 1: 对比手法

**不要**: "这个工具很好用"
**要**: "传统工具看不出证据强弱，P2 可以"

### 技巧 2: 视觉引导

**不要**: "你可以看到..."（观众看不到）
**要**: "你看这里，这条粗边..."（明确指向）

### 技巧 3: 讲故事

**不要**: "这个工具有 3 个功能"
**要**: "假设你是工程师，你想知道 manager.py 依赖哪些文件..."

### 技巧 4: 反复强调价值

**核心价值**: "一眼看出哪里懂、哪里不懂、哪里缺失"

**每个场景结束后都重复一次**。

---

## 常见问题预案

### 如果演示时发现 Bug

**情况 1**: 图谱加载失败
- **预案**: 提前准备截图，说"这是典型的查询结果"

**情况 2**: 盲区节点不明显
- **预案**: 放大图谱，说"这里的红色虚线边框就是盲区标注"

**情况 3**: 性能慢（> 5 秒）
- **预案**: 说"这个图谱比较大，我们等一下"，然后切换到预加载的小图谱

### 如果观众不理解

**情况 1**: 不理解"证据"
- **解释**: "证据就像论文的引用。你说 A 依赖 B，需要有证据支撑：代码里有 import B，文档里提到了 B，Git 历史显示 A 和 B 一起修改。"

**情况 2**: 不理解"盲区"
- **解释**: "盲区就是你知道有问题，但不知道是什么问题。比如，很多文件依赖 X，但 X 没有文档，你不知道 X 是做什么的，这就是盲区。"

**情况 3**: 不理解"覆盖度"
- **解释**: "覆盖度就像测试覆盖率。85% 覆盖度表示只有 85% 的节点有证据，还有 15% 没有证据。"

---

## 演示后跟进

### 发送材料

1. **快速参考**: `P2_PROJECT_QUICK_REFERENCE.md`
2. **用户指南**: `P2_TASK4_USER_GUIDE.md`
3. **演示录屏**: （如果有）

### 收集反馈

**问卷**（3 个问题）:
1. P2 的核心价值对你有用吗？（1-10 分）
2. 你最喜欢哪个功能？（证据可视化/盲区标注/完整性透明）
3. 你希望增加什么功能？（开放式）

---

## 附录：演示检查清单

### 演示前（5 分钟）

- [ ] WebUI 已启动
- [ ] BrainOS 索引已构建
- [ ] 浏览器已打开子图视图
- [ ] 演示数据已准备（seed: `file:manager.py`）
- [ ] 投影仪已连接
- [ ] 音量已调整

### 演示中（15 分钟）

- [ ] 场景 1: 传统知识图谱的问题（3 分钟）
- [ ] 场景 2: P2 的解决方案（8 分钟）
  - [ ] Step 1: 查询子图
  - [ ] Step 2: 证据强弱可视化
  - [ ] Step 3: 盲区标注
  - [ ] Step 4: 完整性透明
  - [ ] Step 5: 交互功能
- [ ] 场景 3: 对比总结（2 分钟）
- [ ] 场景 4: Q&A（2 分钟）

### 演示后（5 分钟）

- [ ] 发送材料（快速参考 + 用户指南）
- [ ] 收集反馈（问卷）
- [ ] 记录问题和建议

---

**文档状态**: ✅ Complete
**字数统计**: ~3,500 字
**最后更新**: 2026-01-30
**适用场景**: Product Demo, Stakeholder Presentation, Customer Onboarding
