# WebUI è‡ªåŠ¨å¯åŠ¨é…ç½®æŒ‡å—

> **åŠŸèƒ½**: AgentOS å¯ä»¥åœ¨ä»»ä½•å‘½ä»¤è¿è¡Œæ—¶è‡ªåŠ¨åœ¨åå°å¯åŠ¨ WebUI

---

## ğŸ¯ åŠŸèƒ½è¯´æ˜

ä» v0.3.0 å¼€å§‹ï¼ŒAgentOS æ”¯æŒ**è‡ªåŠ¨å¯åŠ¨ WebUI**ã€‚å½“ä½ è¿è¡Œä»»ä½• `agentos` å‘½ä»¤æ—¶ï¼ŒWebUI ä¼šè‡ªåŠ¨åœ¨åå°å¯åŠ¨ï¼ˆå¦‚æœå°šæœªè¿è¡Œï¼‰ã€‚

### ç‰¹æ€§

- âœ… **è‡ªåŠ¨å¯åŠ¨**: è¿è¡Œä»»ä½• CLI å‘½ä»¤æ—¶è‡ªåŠ¨å¯åŠ¨
- âœ… **å•å®ä¾‹**: é¿å…é‡å¤å¯åŠ¨ï¼Œè‡ªåŠ¨æ£€æµ‹å·²è¿è¡Œçš„å®ä¾‹
- âœ… **åå°è¿è¡Œ**: WebUI åœ¨åå°è¿è¡Œï¼Œä¸é˜»å¡ä¸»å‘½ä»¤
- âœ… **å¯é…ç½®**: å¯ä»¥å¯ç”¨/ç¦ç”¨ï¼Œè‡ªå®šä¹‰ä¸»æœºå’Œç«¯å£
- âœ… **ç‹¬ç«‹è¿›ç¨‹**: WebUI è¿›ç¨‹ç‹¬ç«‹ï¼Œä¸ä¼šå› ä¸»å‘½ä»¤é€€å‡ºè€Œåœæ­¢

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### é»˜è®¤è¡Œä¸º

WebUI è‡ªåŠ¨å¯åŠ¨**é»˜è®¤å¯ç”¨**ã€‚åªéœ€è¿è¡Œä»»ä½• CLI å‘½ä»¤ï¼š

```bash
# è¿è¡Œä»»ä½•å‘½ä»¤ï¼ŒWebUI ä¼šè‡ªåŠ¨å¯åŠ¨
agentos task list

# WebUI ç°åœ¨å·²åœ¨åå°è¿è¡Œ
# è®¿é—®: http://127.0.0.1:8080
```

### æŸ¥çœ‹çŠ¶æ€

```bash
# æŸ¥çœ‹ WebUI è¿è¡ŒçŠ¶æ€
agentos webui status
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ Property â”ƒ Value                      â”ƒ
â”¡â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ Running  â”‚ âœ… Yes                     â”‚
â”‚ PID      â”‚ 12345                      â”‚
â”‚ URL      â”‚ http://127.0.0.1:8080      â”‚
â”‚ Host     â”‚ 127.0.0.1                  â”‚
â”‚ Port     â”‚ 8080                       â”‚
â”‚ Log File â”‚ ~/.agentos/webui.log       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Auto-start: Enabled
```

---

## âš™ï¸ é…ç½®ç®¡ç†

### æŸ¥çœ‹å½“å‰é…ç½®

```bash
agentos webui config --show
```

### å¯ç”¨/ç¦ç”¨è‡ªåŠ¨å¯åŠ¨

```bash
# ç¦ç”¨è‡ªåŠ¨å¯åŠ¨
agentos webui config --no-auto-start

# å¯ç”¨è‡ªåŠ¨å¯åŠ¨
agentos webui config --auto-start
```

### ä¿®æ”¹ä¸»æœºå’Œç«¯å£

```bash
# ä¿®æ”¹ç«¯å£
agentos webui config --port 8888

# ä¿®æ”¹ä¸»æœºï¼ˆç›‘å¬æ‰€æœ‰ç½‘ç»œæ¥å£ï¼‰
agentos webui config --host 0.0.0.0

# åŒæ—¶ä¿®æ”¹å¤šä¸ªé…ç½®
agentos webui config --host 0.0.0.0 --port 8888 --auto-start
```

---

## ğŸ® æ‰‹åŠ¨æ§åˆ¶

å³ä½¿å¯ç”¨äº†è‡ªåŠ¨å¯åŠ¨ï¼Œä½ ä»ç„¶å¯ä»¥æ‰‹åŠ¨æ§åˆ¶ WebUIï¼š

### å¯åŠ¨

```bash
# ä½¿ç”¨é…ç½®å¯åŠ¨
agentos webui start

# ä½¿ç”¨è‡ªå®šä¹‰ç«¯å£å¯åŠ¨
agentos webui start --port 8888

# å‰å°è¿è¡Œï¼ˆä¸åå°ï¼‰
agentos webui start --foreground
```

### åœæ­¢

```bash
agentos webui stop
```

### é‡å¯

```bash
agentos webui restart
```

---

## ğŸ“‚ æ–‡ä»¶ä½ç½®

### é…ç½®æ–‡ä»¶

WebUI é…ç½®å­˜å‚¨åœ¨ AgentOS å…¨å±€é…ç½®ä¸­ï¼š

```
~/.agentos/settings.json
```

é…ç½®å†…å®¹ç¤ºä¾‹ï¼š
```json
{
  "webui_auto_start": true,
  "webui_host": "127.0.0.1",
  "webui_port": 8080,
  ...
}
```

### PID æ–‡ä»¶

åå°è¿è¡Œçš„ WebUI è¿›ç¨‹ ID å­˜å‚¨åœ¨ï¼š

```
~/.agentos/webui.pid
```

### æ—¥å¿—æ–‡ä»¶

WebUI åå°è¿è¡Œæ—¥å¿—ï¼š

```
~/.agentos/webui.log
```

æŸ¥çœ‹æ—¥å¿—ï¼š
```bash
tail -f ~/.agentos/webui.log
```

---

## ğŸ”§ é«˜çº§ç”¨æ³•

### åœºæ™¯ 1: å¼€å‘æ¨¡å¼

å¼€å‘æ—¶æƒ³è¦çœ‹åˆ° WebUI çš„å®æ—¶è¾“å‡ºï¼š

```bash
# 1. ç¦ç”¨è‡ªåŠ¨å¯åŠ¨
agentos webui config --no-auto-start

# 2. å‰å°å¯åŠ¨ WebUI å¹¶æŸ¥çœ‹æ—¥å¿—
agentos web --reload --log-level debug
```

### åœºæ™¯ 2: è¿œç¨‹è®¿é—®

éœ€è¦ä»å…¶ä»–æœºå™¨è®¿é—® WebUIï¼š

```bash
# é…ç½®ç›‘å¬æ‰€æœ‰æ¥å£
agentos webui config --host 0.0.0.0 --port 8080

# é‡å¯ WebUI
agentos webui restart

# ç°åœ¨å¯ä»¥é€šè¿‡ http://your-ip:8080 è®¿é—®
```

âš ï¸ **å®‰å…¨è­¦å‘Š**: ç»‘å®šåˆ° `0.0.0.0` ä¼šè®© WebUI å¯ä»ç½‘ç»œè®¿é—®ï¼Œè¯·ç¡®ä¿ç½‘ç»œå®‰å…¨ã€‚

### åœºæ™¯ 3: å¤šå®ä¾‹

åœ¨ä¸åŒç«¯å£è¿è¡Œå¤šä¸ª WebUIï¼š

```bash
# ç¦ç”¨è‡ªåŠ¨å¯åŠ¨
agentos webui config --no-auto-start

# æ‰‹åŠ¨å¯åŠ¨å¤šä¸ªå®ä¾‹
agentos webui start --port 8080
agentos webui start --port 8081
agentos webui start --port 8082
```

æ³¨æ„: è‡ªåŠ¨å¯åŠ¨åªæ”¯æŒå•å®ä¾‹ï¼Œå¤šå®ä¾‹éœ€æ‰‹åŠ¨ç®¡ç†ã€‚

---

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: WebUI æœªè‡ªåŠ¨å¯åŠ¨

**æ£€æŸ¥é…ç½®**:
```bash
agentos webui config --show
```

ç¡®è®¤ `Auto-start: Enabled`ã€‚

**æ‰‹åŠ¨å¯åŠ¨æµ‹è¯•**:
```bash
agentos webui start --foreground
```

æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯è¾“å‡ºã€‚

### é—®é¢˜ 2: ç«¯å£å·²è¢«å ç”¨

**é”™è¯¯ä¿¡æ¯**: `Address already in use`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ä¿®æ”¹ç«¯å£
agentos webui config --port 8888

# é‡å¯
agentos webui restart
```

### é—®é¢˜ 3: æ— æ³•è®¿é—® WebUI

**æ£€æŸ¥çŠ¶æ€**:
```bash
agentos webui status
```

**æ£€æŸ¥æ—¥å¿—**:
```bash
tail -n 50 ~/.agentos/webui.log
```

**æµ‹è¯•è¿æ¥**:
```bash
curl http://127.0.0.1:8080/api/health
```

### é—®é¢˜ 4: è¿›ç¨‹åƒµæ­»

**å¼ºåˆ¶åœæ­¢**:
```bash
# æŸ¥æ‰¾ PID
cat ~/.agentos/webui.pid

# å¼ºåˆ¶æ€æ­»è¿›ç¨‹
kill -9 <PID>

# æ¸…ç† PID æ–‡ä»¶
rm ~/.agentos/webui.pid

# é‡æ–°å¯åŠ¨
agentos webui start
```

---

## ğŸ“Š å·¥ä½œåŸç†

### è‡ªåŠ¨å¯åŠ¨æµç¨‹

```
ç”¨æˆ·è¿è¡Œ agentos å‘½ä»¤
    â†“
CLI åˆå§‹åŒ–
    â†“
åŠ è½½é…ç½® (settings.json)
    â†“
æ£€æŸ¥ webui_auto_start
    â†“ (if enabled)
æ£€æŸ¥ WebUI æ˜¯å¦å·²è¿è¡Œ
    â†“ (if not running)
åå°å¯åŠ¨ WebUI è¿›ç¨‹
    â†“
ä¿å­˜ PID åˆ° webui.pid
    â†“
ç»§ç»­æ‰§è¡Œç”¨æˆ·å‘½ä»¤
```

### è¿›ç¨‹ç®¡ç†

- **åå°è¿›ç¨‹**: ä½¿ç”¨ `subprocess.Popen` å¯åŠ¨ï¼Œ`start_new_session=True` ç¡®ä¿ç‹¬ç«‹è¿è¡Œ
- **PID è¿½è¸ª**: è¿›ç¨‹ ID å­˜å‚¨åœ¨ `~/.agentos/webui.pid`
- **å¥åº·æ£€æŸ¥**: ä½¿ç”¨ `os.kill(pid, 0)` æ£€æŸ¥è¿›ç¨‹æ˜¯å¦å­˜åœ¨
- **ä¼˜é›…åœæ­¢**: å…ˆå‘é€ `SIGTERM`ï¼Œ5 ç§’åå¼ºåˆ¶ `SIGKILL`

---

## ğŸ“ æœ€ä½³å®è·µ

### 1. å¼€å‘ç¯å¢ƒ

```bash
# ç¦ç”¨è‡ªåŠ¨å¯åŠ¨ï¼Œæ‰‹åŠ¨å‰å°è¿è¡Œä»¥æŸ¥çœ‹æ—¥å¿—
agentos webui config --no-auto-start
agentos web --reload --log-level debug
```

### 2. ç”Ÿäº§ç¯å¢ƒ

```bash
# å¯ç”¨è‡ªåŠ¨å¯åŠ¨ï¼Œä½¿ç”¨é»˜è®¤é…ç½®
agentos webui config --auto-start --host 127.0.0.1 --port 8080
```

### 3. å›¢é˜Ÿå…±äº«

```bash
# ç»‘å®šåˆ°å†…ç½‘ IPï¼Œè®¾ç½®å›ºå®šç«¯å£
agentos webui config --host 192.168.1.100 --port 8080 --auto-start
```

### 4. å®‰å…¨åŠ å›º

- ä»…åœ¨éœ€è¦æ—¶ç»‘å®š `0.0.0.0`
- ä½¿ç”¨é˜²ç«å¢™é™åˆ¶è®¿é—®
- è€ƒè™‘ä½¿ç”¨ Nginx åå‘ä»£ç† + HTTPS
- æœªæ¥ç‰ˆæœ¬å°†æ”¯æŒèº«ä»½è®¤è¯

---

## ğŸ“š ç›¸å…³å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `agentos web` | å‰å°å¯åŠ¨ WebUI (åŸæ–¹å¼) |
| `agentos webui start` | åå°å¯åŠ¨ WebUI |
| `agentos webui stop` | åœæ­¢ WebUI |
| `agentos webui restart` | é‡å¯ WebUI |
| `agentos webui status` | æŸ¥çœ‹çŠ¶æ€ |
| `agentos webui config` | é…ç½®ç®¡ç† |

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [WebUI ä½¿ç”¨æŒ‡å—](./webui.md)
- [é…ç½®ç®¡ç†](./configuration.md)
- [åŠŸèƒ½æ¸…å•](../åŠŸèƒ½æ¸…å•.md)

---

**æ›´æ–°æ—¶é—´**: 2026-01-27
**ç‰ˆæœ¬**: v0.3.0
