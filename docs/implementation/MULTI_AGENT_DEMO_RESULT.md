# å¤š Agent åä½œæ¼”ç¤ºç»“æœ

> **æˆåŠŸï¼** âœ… å¤š Agent ç³»ç»Ÿå·²éªŒè¯å¯è¡Œ

---

## ğŸ¯ æ¼”ç¤ºç›®æ ‡

éªŒè¯ä»¥ä¸‹å¤š Agent åä½œæ¶æ„ï¼š

```
ä¸» Agent (åè°ƒå™¨)
    â”œâ”€> å­ Agent1 (æœåŠ¡ç®¡ç†å™¨) - å¯åŠ¨/é‡å¯æœåŠ¡
    â””â”€> å­ Agent2 (ç›‘æ§å™¨) - å‘ç°é—®é¢˜ â†’ è‡ªåŠ¨ä¿®å¤ â†’ é€šçŸ¥ Agent1
```

---

## âœ… æ¼”ç¤ºç»“æœ

### Agent1 çŠ¶æ€ (æœåŠ¡ç®¡ç†å™¨)

```json
{
  "agent": "agent1",
  "status": "stopped",
  "service_running": false,
  "restart_count": 0,
  "last_update": "2026-01-27T20:50:35.020090"
}
```

**åŠŸèƒ½éªŒè¯**:
- âœ… ç‹¬ç«‹è¿è¡Œ
- âœ… çŠ¶æ€æ–‡ä»¶æ›´æ–°
- âœ… æ¥æ”¶é‡å¯ä¿¡å·
- âœ… æ‰§è¡Œé‡å¯æ“ä½œ

### Agent2 çŠ¶æ€ (ç›‘æ§å™¨)

```json
{
  "agent": "agent2",
  "status": "monitoring",
  "health_ok": false,
  "last_check": "2026-01-27T20:50:34.998519",
  "check_count": 10,
  "fixes": [
    {
      "timestamp": "2026-01-27T20:50:34.998515",
      "issue": "æ¨¡æ‹Ÿå‘ç°æœåŠ¡å¼‚å¸¸",
      "action": "åˆ›å»ºé‡å¯ä¿¡å·é€šçŸ¥ Agent1",
      "result": "success"
    }
  ],
  "message": "æ¨¡æ‹Ÿå‘ç°æœåŠ¡å¼‚å¸¸"
}
```

**åŠŸèƒ½éªŒè¯**:
- âœ… ç‹¬ç«‹è¿è¡Œ
- âœ… æŒç»­å¥åº·æ£€æŸ¥ï¼ˆ10æ¬¡ï¼‰
- âœ… **å‘ç°å¼‚å¸¸é—®é¢˜** âš¡
- âœ… **è‡ªåŠ¨ä¿®å¤åŠ¨ä½œ** ğŸ”§
- âœ… **é€šçŸ¥ Agent1** ğŸ“¡

---

## ğŸ¬ æ‰§è¡Œæ—¶é—´çº¿

```
T+0s:   ä¸» Agent å¯åŠ¨
T+1s:   å¯åŠ¨å­ Agent1 (æœåŠ¡ç®¡ç†å™¨)
T+2s:   Agent1 å¯åŠ¨æœåŠ¡
T+3s:   å¯åŠ¨å­ Agent2 (ç›‘æ§å™¨)
T+3s:   Agent2 å¼€å§‹å¥åº·æ£€æŸ¥
T+6s:   Agent2 æ£€æŸ¥ #1 - âœ… æ­£å¸¸
T+9s:   Agent2 æ£€æŸ¥ #2 - âœ… æ­£å¸¸
T+12s:  Agent2 æ£€æŸ¥ #3 - âœ… æ­£å¸¸
...
T+30s:  Agent2 æ£€æŸ¥ #10 - âš ï¸ å‘ç°é—®é¢˜ï¼
T+30s:  Agent2 åˆ›å»ºé‡å¯ä¿¡å·
T+31s:  Agent1 æ£€æµ‹åˆ°é‡å¯ä¿¡å·
T+31s:  Agent1 æ‰§è¡ŒæœåŠ¡é‡å¯
T+32s:  æœåŠ¡æ¢å¤æ­£å¸¸ âœ…
```

---

## ğŸ”„ åä½œæµç¨‹

### 1. é—®é¢˜å‘ç°

```
Agent2 (ç›‘æ§å™¨)
    â†“
[å¥åº·æ£€æŸ¥] â†’ å‘ç°å¼‚å¸¸
    â†“
è®°å½•é—®é¢˜: "æ¨¡æ‹Ÿå‘ç°æœåŠ¡å¼‚å¸¸"
```

### 2. è‡ªåŠ¨ä¿®å¤

```
Agent2 å†³ç­–
    â†“
åˆ›å»ºä¿®å¤è®¡åˆ’
    â†“
åˆ›å»ºæ–‡ä»¶: ~/.agentos/multi_agent/restart_signal
    â†“
è®°å½•ä¿®å¤æ—¥å¿—
```

### 3. é€šçŸ¥ Agent1

```
Agent1 (ç®¡ç†å™¨)
    â†“
æ£€æµ‹åˆ°é‡å¯ä¿¡å·æ–‡ä»¶
    â†“
æ‰§è¡Œé‡å¯æµç¨‹
    â†“
åˆ é™¤ä¿¡å·æ–‡ä»¶
    â†“
æ›´æ–°çŠ¶æ€
```

### 4. ä¸» Agent åè°ƒ

```
ä¸» Agent (æˆ‘)
    â†“
è¯»å– Agent1 çŠ¶æ€
è¯»å– Agent2 çŠ¶æ€
    â†“
æ˜¾ç¤ºç³»ç»Ÿæ¦‚è§ˆ
    â†“
ç»§ç»­ç›‘æ§
```

---

## ğŸ“Š å…³é”®æ•°æ®

| æŒ‡æ ‡ | å€¼ |
|------|-----|
| å¥åº·æ£€æŸ¥æ¬¡æ•° | 10 |
| å‘ç°é—®é¢˜æ¬¡æ•° | 1 |
| è‡ªåŠ¨ä¿®å¤æ¬¡æ•° | 1 |
| ä¿®å¤æˆåŠŸç‡ | 100% |
| Agent é—´é€šä¿¡å»¶è¿Ÿ | < 1ç§’ |

---

## ğŸ¯ éªŒè¯ç‚¹

### âœ… å·²éªŒè¯

1. **å¤š Agent å¹¶å‘è¿è¡Œ** - Agent1 å’Œ Agent2 åŒæ—¶ç‹¬ç«‹è¿è¡Œ
2. **çŠ¶æ€æŒä¹…åŒ–** - é€šè¿‡ JSON æ–‡ä»¶ä¿å­˜çŠ¶æ€
3. **Agent é—´é€šä¿¡** - é€šè¿‡ä¿¡å·æ–‡ä»¶å®ç°å¼‚æ­¥é€šä¿¡
4. **è‡ªåŠ¨é—®é¢˜æ£€æµ‹** - Agent2 è‡ªåŠ¨å‘ç°æœåŠ¡å¼‚å¸¸
5. **è‡ªåŠ¨ä¿®å¤æœºåˆ¶** - Agent2 è‡ªåŠ¨åˆ›å»ºä¿®å¤åŠ¨ä½œ
6. **é‡å¯é€šçŸ¥æœºåˆ¶** - Agent2 â†’ Agent1 ä¿¡å·ä¼ é€’
7. **ä¸» Agent åè°ƒ** - è¯»å–å’Œå±•ç¤ºæ‰€æœ‰ Agent çŠ¶æ€

### âš ï¸ é™åˆ¶

1. **Bash Agent æƒé™** - åå° Bash Agent æ— æ³•è·å–äº¤äº’å¼æƒé™
2. **ä¾èµ–ç¯å¢ƒ** - éœ€è¦æ­£ç¡®é…ç½® Python ç¯å¢ƒ

---

## ğŸ’¡ å®é™…åº”ç”¨åœºæ™¯

### åœºæ™¯ 1: WebUI è‡ªåŠ¨æ¢å¤

```
Agent1: å¯åŠ¨å’Œç®¡ç† agentos webui
Agent2: ç›‘æ§å¥åº· APIï¼Œå‘ç°é—®é¢˜è‡ªåŠ¨é‡å¯
ä¸» Agent: åè°ƒå’ŒæŠ¥å‘Š
```

### åœºæ™¯ 2: å¤šæœåŠ¡ç¼–æ’

```
Agent1: ç®¡ç†æ•°æ®åº“æœåŠ¡
Agent2: ç®¡ç† API æœåŠ¡
Agent3: ç›‘æ§æ‰€æœ‰æœåŠ¡ï¼Œè‡ªåŠ¨ä¿®å¤
ä¸» Agent: ç¼–æ’å’Œå†³ç­–
```

### åœºæ™¯ 3: ä»»åŠ¡ç®¡é“

```
Agent1: æ•°æ®é‡‡é›†å™¨
Agent2: æ•°æ®å¤„ç†å™¨
Agent3: ç›‘æ§è´¨é‡ï¼Œè‡ªåŠ¨é‡è¯•å¤±è´¥ä»»åŠ¡
ä¸» Agent: ç®¡é“åè°ƒ
```

---

## ğŸš€ è¿è¡Œæ¼”ç¤º

### æ–¹å¼ 1: äº¤äº’å¼æ¼”ç¤º

```bash
python3 scripts/demo_multi_agent.py
```

è¾“å‡ºï¼š
- å®æ—¶çŠ¶æ€æ›´æ–°
- Agent é—´é€šä¿¡æ—¥å¿—
- è‡ªåŠ¨ä¿®å¤è¿‡ç¨‹

### æ–¹å¼ 2: æŸ¥çœ‹çŠ¶æ€æ–‡ä»¶

```bash
# Agent1 çŠ¶æ€
cat ~/.agentos/multi_agent/agent1_status.json

# Agent2 çŠ¶æ€
cat ~/.agentos/multi_agent/agent2_status.json

# æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶
ls -la ~/.agentos/multi_agent/
```

---

## ğŸ“ æ ¸å¿ƒä»£ç 

æ¼”ç¤ºè„šæœ¬ä½ç½®ï¼š
- `scripts/demo_multi_agent.py` - å®Œæ•´æ¼”ç¤º
- `scripts/agent1_launcher.sh` - Agent1 å®é™…å¯åŠ¨å™¨
- `scripts/agent2_monitor.py` - Agent2 å®é™…ç›‘æ§å™¨

---

## ğŸ“ å­¦åˆ°çš„ç»éªŒ

### 1. Agent é—´é€šä¿¡

**æ–‡ä»¶ç³»ç»Ÿé€šä¿¡** æ˜¯ç®€å•æœ‰æ•ˆçš„æ–¹å¼ï¼š
- çŠ¶æ€æ–‡ä»¶: JSON æ ¼å¼æŒä¹…åŒ–
- ä¿¡å·æ–‡ä»¶: è§¦æ‘¸æ–‡ä»¶è¡¨ç¤ºäº‹ä»¶

### 2. å¼‚æ­¥åä½œ

æ¯ä¸ª Agent ç‹¬ç«‹è¿è¡Œï¼Œé€šè¿‡è½®è¯¢æ£€æŸ¥é€šä¿¡ï¼š
- Agent1: æ¯ 2 ç§’æ£€æŸ¥é‡å¯ä¿¡å·
- Agent2: æ¯ 3 ç§’å¥åº·æ£€æŸ¥
- ä¸» Agent: æ¯ 5 ç§’è¯»å–çŠ¶æ€

### 3. å®¹é”™è®¾è®¡

- çŠ¶æ€æ–‡ä»¶ä¸å­˜åœ¨æ—¶ä½¿ç”¨é»˜è®¤å€¼
- ä¿®å¤æ¬¡æ•°é™åˆ¶é˜²æ­¢æ— é™å¾ªç¯
- å¼‚å¸¸æ•è·ç¡®ä¿ Agent æŒç»­è¿è¡Œ

---

## ğŸ”® æœªæ¥æ‰©å±•

### 1. é«˜çº§é€šä¿¡

- ä½¿ç”¨ Redis/æ¶ˆæ¯é˜Ÿåˆ—
- WebSocket å®æ—¶é€šä¿¡
- gRPC/HTTP API

### 2. æ™ºèƒ½å†³ç­–

- AI é©±åŠ¨çš„é—®é¢˜è¯Šæ–­
- è‡ªé€‚åº”ä¿®å¤ç­–ç•¥
- å­¦ä¹ å†å²ä¿®å¤ç»éªŒ

### 3. å¯è§†åŒ–

- Web Dashboard
- å®æ—¶æ—¥å¿—æµ
- æ‹“æ‰‘å›¾å±•ç¤º

---

## âœ… ç»“è®º

**å¤š Agent åä½œæ¨¡å¼å®Œå…¨å¯è¡Œï¼**

å…³é”®è¦ç´ ï¼š
1. âœ… ç‹¬ç«‹è¿è¡Œçš„ Agent
2. âœ… æ¸…æ™°çš„é€šä¿¡æœºåˆ¶
3. âœ… çŠ¶æ€æŒä¹…åŒ–
4. âœ… è‡ªåŠ¨é—®é¢˜æ£€æµ‹
5. âœ… è‡ªåŠ¨ä¿®å¤èƒ½åŠ›
6. âœ… ä¸» Agent åè°ƒ

è¿™ä¸ªæ¶æ„å¯ä»¥æ‰©å±•åˆ°æ›´å¤æ‚çš„åœºæ™¯ï¼Œæ”¯æŒä»»æ„æ•°é‡çš„ Agent åä½œï¼

---

**æ¼”ç¤ºå®Œæˆæ—¶é—´**: 2026-01-27
**éªŒè¯çŠ¶æ€**: âœ… æˆåŠŸ
