# Runner UI 用户验收清单

## 验收日期
**Date:** _____________

**Tested by:** _____________

---

## A1. 非技术用户一眼看懂

**验收标准**: 10 秒内能理解当前在做什么、下一步是什么

### 自我验收
- [ ] 打开任务页面，10 秒内能看到"当前在做什么"
- [ ] 能看到"下一步是什么"的预测
- [ ] 能看到整体进度（百分比或阶段）
- [ ] 如果卡住，能看到原因说明

### 外部人员测试
招募 3 个非技术背景的测试者，让他们在 60 秒内回答以下问题：

| 测试者 | 当前在做什么？ | 下一步是什么？ | 是否卡住？ | 如果卡住，原因是？ | 通过? |
|--------|---------------|---------------|-----------|-------------------|------|
| 1. ____ | _____________ | _____________ | _________ | _________________ | [ ] |
| 2. ____ | _____________ | _____________ | _________ | _________________ | [ ] |
| 3. ____ | _____________ | _____________ | _________ | _________________ | [ ] |

**Result**: ____/3 通过 (需要 ≥2/3)

**Notes:**
```
[记录测试者反馈]
```

---

## A2. 流水线动态可视化（有节奏、有反馈）

**验收标准**: 录屏 30 秒，外部人员能看出"持续推进且每一步有明确落点"

### 自我验收
- [ ] Planning / Executing / Verifying 阶段会"动起来"（高亮/激活）
- [ ] 每个 checkpoint 有明显的"盖章式反馈"（✓ 图标或动画）
- [ ] Gates pass/fail 有明显的舞台事件（颜色变化、箭头）
- [ ] 能感受到"流水线节奏"（不是静态的，而是有推进感）

### 录屏验收
- [ ] 录制 30 秒任务执行视频
- [ ] 保存为 `demo_recording.mp4`
- [ ] 播放给外部人员观看

**外部人员反馈** (至少 2 人):
1. ____: "能看出持续推进" [ ] 是 [ ] 否
2. ____: "能看出持续推进" [ ] 是 [ ] 否

**录屏文件**: `_________________`

**Notes:**
```
[记录节奏感是否明显]
```

---

## A3. Work Items 协调视角

**验收标准**: 3 个 work_items 的任务，必须呈现：主控发出、独立变化、汇总节点

### 测试步骤
1. 创建包含 3 个 work_items 的任务
2. 启动任务
3. 观察 UI

### 验收检查
- [ ] 3 个工位卡片独立显示（能区分哪个是哪个）
- [ ] 每个工位的状态独立变化（dispatched → running → done）
- [ ] 出现汇总节点（merge node），显示 "3/3" 或类似统计
- [ ] 汇总节点之后，gates 运行

**Screenshot**: `_________________`

**Notes:**
```
[工位是否清晰可见]
```

---

## A4. 证据型进度（可信进度）

**验收标准**: Checkpoint 可以展开查看证据，默认视图不吓人

### 验收检查
- [ ] Checkpoint 显示为"已验证 ✓"或"待验证 ?"
- [ ] 点击 checkpoint，Evidence Drawer 弹出
- [ ] 能看到 4 种证据类型（Artifact / Hash / Command / DB Row）
- [ ] 关闭折叠后，仍然能理解"已验证"的状态

**Screenshot of Evidence Drawer**: `_________________`

**Notes:**
```
[证据是否易于理解]
```

---

## A5. 实时 + 可恢复（重启不迷茫）

**验收标准**: Kill -9 → 重启 → UI 继续展示连续进度，且出现"Recovered from checkpoint X"

### 测试步骤
1. 启动任务
2. 等待任务执行到一半
3. Kill -9 runner 进程（或模拟崩溃）
4. 重启系统
5. 打开任务页面

### 验收检查
- [ ] 任务历史事件仍然可见（不是空白）
- [ ] 出现"从 checkpoint X 恢复"的事件
- [ ] 叙事是连续的（不是跳回起点）
- [ ] UI 显示实时更新（WebSocket 或 SSE 连接正常）

**Screenshot of Recovery Event**: `_________________`

**Notes:**
```
[恢复叙事是否连续]
```

---

## A6. 稳定 UI（不能抖、不能乱、不能倒灌刷屏）

**验收标准**: 100 并发任务，UI 保持可操作；单任务 10k events 依然可滚动/搜索

### 测试 1: 并发任务
- [ ] 创建 100 个并发任务
- [ ] WebUI 保持可操作（不卡死）
- [ ] 任务列表正常渲染
- [ ] 可以点击进入任务详情

**Performance**: 响应时间 < _____ ms

### 测试 2: 大量事件
- [ ] 创建包含 20 个 work_items 的任务（预期生成 1000+ 事件）
- [ ] Timeline 可以滚动
- [ ] 可以搜索事件
- [ ] 可以定位到特定事件
- [ ] UI 不卡顿

**Event Count**: _____ events

**Performance**: 滚动流畅度 [ ] 流畅 [ ] 卡顿

**Notes:**
```
[性能问题记录]
```

---

## 全局"Definition of Done"（一票否决项）

以下任何一条不满足，视为未交付：

| # | 检查项 | 通过? | Notes |
|---|--------|------|-------|
| 1 | 断线重连后 **不** 出现空白/跳回起点 | [ ] | _____ |
| 2 | 恢复后用户 **能** 看出"从哪个 checkpoint 继续" | [ ] | _____ |
| 3 | 事件刷屏 **不** 导致页面卡死 | [ ] | _____ |
| 4 | work_items 协调关系 **可见** | [ ] | _____ |
| 5 | 证据 **可** 点开查看 | [ ] | _____ |
| 6 | fail/retry/branch **可见** | [ ] | _____ |
| 7 | 录屏 **能** 看出"流水线节奏感" | [ ] | _____ |

**Overall Result**: [ ] PASS (全部 ✓) [ ] FAIL (任何一项 ✗)

---

## 测试环境

- **OS**: _____________
- **Browser**: _____________
- **WebUI Version**: _____________
- **Database**: _____________

---

## 已知问题列表

| # | 问题描述 | 严重性 | 是否阻塞发布 |
|---|---------|--------|-------------|
| 1 | | [ ] High [ ] Medium [ ] Low | [ ] Yes [ ] No |
| 2 | | [ ] High [ ] Medium [ ] Low | [ ] Yes [ ] No |
| 3 | | [ ] High [ ] Medium [ ] Low | [ ] Yes [ ] No |

---

## 最终验收决策

### 验收结果
- [ ] **PASS** - 所有验收标准满足，可以发布
- [ ] **PASS with Notes** - 基本满足，有小问题但不阻塞发布
- [ ] **FAIL** - 未满足验收标准，需要修复

### 签字

**Tester**: _________________ Date: _______

**Reviewer**: _________________ Date: _______

**Product Owner**: _________________ Date: _______

---

## 附件清单

- [ ] demo_1_recording.mp4 (正常流程)
- [ ] demo_2_recording.mp4 (Gate 失败)
- [ ] demo_3_recording.mp4 (恢复)
- [ ] demo_1_timeline.json
- [ ] demo_2_timeline.json
- [ ] demo_3_recovery_events.json
- [ ] screenshots/ (各种截图)
- [ ] test_reports/ (测试报告)

---

**文档版本**: 1.0
**创建日期**: 2026-01-30
**最后更新**: 2026-01-30
